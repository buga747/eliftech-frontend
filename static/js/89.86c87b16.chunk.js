(self.webpackChunkelifschool_test_frontend=self.webpackChunkelifschool_test_frontend||[]).push([[89],{1089:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return _e}});var r,i,o,a,s,c,d,p,l,u=t(5861),h=t(4942),f=t(1413),m=t(9439),x=t(7757),g=t.n(x),v=t(2791),y=t(8174),b=t(3015),w=t(168),Z=t(6444),j=t(1087),_=Z.ZP.div(r||(r=(0,w.Z)(["\n  display: flex;\n  justify-content: space-between;\n"]))),R=(Z.ZP.div(i||(i=(0,w.Z)(["\n  width: 50%;\n"]))),Z.ZP.div(o||(o=(0,w.Z)(["\n  width: 50%;\n"]))),Z.ZP.form(a||(a=(0,w.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),Z.ZP.div(s||(s=(0,w.Z)(["\n  margin-bottom: 1rem;\n"]))),Z.ZP.div(c||(c=(0,w.Z)(["\n  margin-top: 1rem;\n"]))),(0,Z.ZP)(j.rU)(d||(d=(0,w.Z)(["\n  background-color: #1da1f2;\n  color: #fff;\n  font-size: 1.5rem;\n  padding: 1rem 2rem;\n  border-radius: 5px;\n  text-decoration: none;\n  transition: all 0.3s ease;\n  z-index: 5;\n  &:hover {\n    background-color: #0c8de4;\n  }\n"])))),C=Z.ZP.h3(p||(p=(0,w.Z)(["\n  font-size: 3rem;\n  margin-bottom: 1rem;\n  color: #2b0505;\n"]))),P=Z.ZP.div(l||(l=(0,w.Z)(["\n  margin-left: auto;\n  margin-right: auto;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),k=t(2007),S=t.n(k);function L(){return L=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},L.apply(this,arguments)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var I=function(e){var n,t;function r(){var n;return(n=e.call(this)||this).handleExpired=n.handleExpired.bind(O(n)),n.handleErrored=n.handleErrored.bind(O(n)),n.handleChange=n.handleChange.bind(O(n)),n.handleRecaptchaRef=n.handleRecaptchaRef.bind(O(n)),n}t=e,(n=r).prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t;var i=r.prototype;return i.getValue=function(){return this.props.grecaptcha&&void 0!==this._widgetId?this.props.grecaptcha.getResponse(this._widgetId):null},i.getWidgetId=function(){return this.props.grecaptcha&&void 0!==this._widgetId?this._widgetId:null},i.execute=function(){var e=this.props.grecaptcha;if(e&&void 0!==this._widgetId)return e.execute(this._widgetId);this._executeRequested=!0},i.executeAsync=function(){var e=this;return new Promise((function(n,t){e.executionResolve=n,e.executionReject=t,e.execute()}))},i.reset=function(){this.props.grecaptcha&&void 0!==this._widgetId&&this.props.grecaptcha.reset(this._widgetId)},i.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},i.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},i.handleChange=function(e){this.props.onChange&&this.props.onChange(e),this.executionResolve&&(this.executionResolve(e),delete this.executionReject,delete this.executionResolve)},i.explicitRender=function(){if(this.props.grecaptcha&&this.props.grecaptcha.render&&void 0===this._widgetId){var e=document.createElement("div");this._widgetId=this.props.grecaptcha.render(e,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge}),this.captcha.appendChild(e)}this._executeRequested&&this.props.grecaptcha&&void 0!==this._widgetId&&(this._executeRequested=!1,this.execute())},i.componentDidMount=function(){this.explicitRender()},i.componentDidUpdate=function(){this.explicitRender()},i.componentWillUnmount=function(){void 0!==this._widgetId&&(this.delayOfCaptchaIframeRemoving(),this.reset())},i.delayOfCaptchaIframeRemoving=function(){var e=document.createElement("div");for(document.body.appendChild(e),e.style.display="none";this.captcha.firstChild;)e.appendChild(this.captcha.firstChild);setTimeout((function(){document.body.removeChild(e)}),5e3)},i.handleRecaptchaRef=function(e){this.captcha=e},i.render=function(){var e=this.props,n=(e.sitekey,e.onChange,e.theme,e.type,e.tabindex,e.onExpired,e.onErrored,e.size,e.stoken,e.grecaptcha,e.badge,e.hl,function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl"]));return v.createElement("div",L({},n,{ref:this.handleRecaptchaRef}))},r}(v.Component);I.displayName="ReCAPTCHA",I.propTypes={sitekey:S().string.isRequired,onChange:S().func,grecaptcha:S().object,theme:S().oneOf(["dark","light"]),type:S().oneOf(["image","audio"]),tabindex:S().number,onExpired:S().func,onErrored:S().func,size:S().oneOf(["compact","normal","invisible"]),stoken:S().string,hl:S().string,badge:S().oneOf(["bottomright","bottomleft","inline"])},I.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var E=t(2110),T=t.n(E);function D(){return D=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},D.apply(this,arguments)}var U={},z=0;var A="onloadcallback";var N,q,W,H,F,B,G,Q,V,$,M,X,Y,J,K,ee,ne,te=(N=function(){return"https://"+(("undefined"!==typeof window&&window.recaptchaOptions||{}).useRecaptchaNet?"recaptcha.net":"www.google.com")+"/recaptcha/api.js?onload="+A+"&render=explicit"},q=(q={callbackName:A,globalName:"grecaptcha"})||{},function(e){var n=e.displayName||e.name||"Component",t=function(n){var t,r;function i(e,t){var r;return(r=n.call(this,e,t)||this).state={},r.__scriptURL="",r}r=n,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=i.prototype;return o.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+z++),this.__scriptLoaderID},o.setupScriptURL=function(){return this.__scriptURL="function"===typeof N?N():N,this.__scriptURL},o.asyncScriptLoaderHandleLoad=function(e){var n=this;this.setState(e,(function(){return n.props.asyncScriptOnLoad&&n.props.asyncScriptOnLoad(n.state)}))},o.asyncScriptLoaderTriggerOnScriptLoaded=function(){var e=U[this.__scriptURL];if(!e||!e.loaded)throw new Error("Script is not loaded.");for(var n in e.observers)e.observers[n](e);delete window[q.callbackName]},o.componentDidMount=function(){var e=this,n=this.setupScriptURL(),t=this.asyncScriptLoaderGetScriptLoaderID(),r=q,i=r.globalName,o=r.callbackName,a=r.scriptId;if(i&&"undefined"!==typeof window[i]&&(U[n]={loaded:!0,observers:{}}),U[n]){var s=U[n];return s&&(s.loaded||s.errored)?void this.asyncScriptLoaderHandleLoad(s):void(s.observers[t]=function(n){return e.asyncScriptLoaderHandleLoad(n)})}var c={};c[t]=function(n){return e.asyncScriptLoaderHandleLoad(n)},U[n]={loaded:!1,observers:c};var d=document.createElement("script");for(var p in d.src=n,d.async=!0,q.attributes)d.setAttribute(p,q.attributes[p]);a&&(d.id=a);var l=function(e){if(U[n]){var t=U[n].observers;for(var r in t)e(t[r])&&delete t[r]}};o&&"undefined"!==typeof window&&(window[o]=function(){return e.asyncScriptLoaderTriggerOnScriptLoaded()}),d.onload=function(){var e=U[n];e&&(e.loaded=!0,l((function(n){return!o&&(n(e),!0)})))},d.onerror=function(){var e=U[n];e&&(e.errored=!0,l((function(n){return n(e),!0})))},document.body.appendChild(d)},o.componentWillUnmount=function(){var e=this.__scriptURL;if(!0===q.removeOnUnmount)for(var n=document.getElementsByTagName("script"),t=0;t<n.length;t+=1)n[t].src.indexOf(e)>-1&&n[t].parentNode&&n[t].parentNode.removeChild(n[t]);var r=U[e];r&&(delete r.observers[this.asyncScriptLoaderGetScriptLoaderID()],!0===q.removeOnUnmount&&delete U[e])},o.render=function(){var n=q.globalName,t=this.props,r=(t.asyncScriptOnLoad,t.forwardedRef),i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(t,["asyncScriptOnLoad","forwardedRef"]);return n&&"undefined"!==typeof window&&(i[n]="undefined"!==typeof window[n]?window[n]:void 0),i.ref=r,(0,v.createElement)(e,i)},i}(v.Component),r=(0,v.forwardRef)((function(e,n){return(0,v.createElement)(t,D({},e,{forwardedRef:n}))}));return r.displayName="AsyncScriptLoader("+n+")",r.propTypes={asyncScriptOnLoad:S().func},T()(r,e)})(I),re=te,ie=Z.ZP.div(W||(W=(0,w.Z)(["\n  display: inline-flex;\n  justify-content: center;\n  flex-basis: 50%;\n"]))),oe=Z.ZP.form(H||(H=(0,w.Z)(["\n  width: 400px;\n  padding: 20px;\n  background-color: #f0f0f0;\n  border-radius: 4px;\n"]))),ae=Z.ZP.div(F||(F=(0,w.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n\n  label {\n    margin-bottom: 5px;\n    font-weight: bold;\n  }\n\n  input {\n    padding: 8px;\n    border-radius: 4px;\n    border: 1px solid #ccc;\n    font-size: 14px;\n  }\n"]))),se=Z.ZP.div(B||(B=(0,w.Z)(["\n  display: flex;\n  justify-content: center;\n  margin-top: 10px;\n"]))),ce=t(184),de=Z.ZP.button(G||(G=(0,w.Z)(["\n  padding: 10px 20px;\n  background-color: #4285f4;\n  color: #fff;\n  border-radius: 4px;\n  border: none;\n  font-size: 16px;\n  cursor: pointer;\n\n  &:hover {\n    background-color: #0d47a1;\n  }\n"]))),pe=function(e){var n=e.handleInputChange,t=e.formData,r=(0,v.useState)(!1),i=(0,m.Z)(r,2),o=i[0],a=i[1];return(0,ce.jsx)(ie,{children:(0,ce.jsxs)(oe,{onSubmit:function(e){e.preventDefault(),o?console.log("Form submitted!"):console.log("Please complete the reCAPTCHA!")},children:[(0,ce.jsxs)(ae,{children:[(0,ce.jsx)("label",{children:"Name:"}),(0,ce.jsx)("input",{type:"text",name:"name",value:t.name,onChange:n,required:!0})]}),(0,ce.jsxs)(ae,{children:[(0,ce.jsx)("label",{children:"Email:"}),(0,ce.jsx)("input",{type:"email",name:"email",value:t.email,onChange:n,required:!0})]}),(0,ce.jsxs)(ae,{children:[(0,ce.jsx)("label",{children:"Phone:"}),(0,ce.jsx)("input",{type:"tel",name:"phone",value:t.phone,onChange:n,required:!0})]}),(0,ce.jsxs)(ae,{children:[(0,ce.jsx)("label",{children:"Address:"}),(0,ce.jsx)("input",{type:"text",name:"address",value:t.address,onChange:n,required:!0})]}),(0,ce.jsx)(re,{sitekey:"6Lc7zkUmAAAAANvm_ujvH1vCBpmVR2aWnXXdLhWo",onChange:function(e){a(!!e)}}),(0,ce.jsx)(se,{children:(0,ce.jsx)(de,{type:"submit",children:"Submit"})})]})})},le=t(9126),ue=t(6322),he=Z.ZP.div(Q||(Q=(0,w.Z)(["\n  flex-basis: 50%;\n  max-height: 80vh;\n  overflow-y: scroll;\n\n  ul {\n    width: 100%;\n    list-style-type: none;\n    padding: 0;\n  }\n\n  li {\n    display: flex;\n    align-items: center;\n    padding: 10px;\n    border-bottom: 1px solid #e6e6e6;\n  }\n\n  li:last-child {\n    border-bottom: none;\n  }\n"]))),fe=Z.ZP.div(V||(V=(0,w.Z)(["\n  display: flex;\n  align-items: center;\n"]))),me=Z.ZP.img($||($=(0,w.Z)(["\n  flex-shrink: 0;\n  width: 150px;\n  height: auto;\n  object-fit: cover;\n"]))),xe=Z.ZP.div(M||(M=(0,w.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-left: 10px;\n"]))),ge=Z.ZP.div(X||(X=(0,w.Z)(["\n  font-size: 18px;\n  font-weight: bold;\n"]))),ve=Z.ZP.div(Y||(Y=(0,w.Z)(["\n  margin-top: 5px;\n  font-size: 14px;\n  color: #373434;\n"]))),ye=Z.ZP.div(J||(J=(0,w.Z)(["\n  margin-top: 5px;\n  font-size: 14px;\n\n  input[type='number'] {\n    width: 50px;\n    padding: 5px;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n  }\n"]))),be=Z.ZP.div(K||(K=(0,w.Z)(["\n  margin-top: 5px;\n  font-size: 14px;\n  font-weight: bold;\n  color: #063c56;\n"]))),we=Z.ZP.button(ee||(ee=(0,w.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: transparent;\n  border: none;\n  cursor: pointer;\n  margin-left: 10px;\n  color: #ff0000;\n  transition: color 0.2s;\n\n  &:hover {\n    color: #ff5555;\n  }\n"]))),Ze=Z.ZP.div(ne||(ne=(0,w.Z)(["\n  font-size: 20px;\n  font-weight: bold;\n  margin-top: 10px;\n  color: #00aaff;\n"]))),je=function(e){var n=e.cartItems,t=e.handleQuantityChange,r=e.handleDeleteItem,i=e.totalPrice;return(0,ce.jsxs)(he,{children:[(0,ce.jsx)("ul",{children:n.map((function(e){var n=e._id,i=e.imgUrl,o=e.title,a=e.price,s=e.quantity;return(0,ce.jsx)("li",{children:(0,ce.jsxs)(fe,{children:[i?(0,ce.jsx)(me,{src:i,alt:o}):(0,ce.jsx)(me,{src:ue,alt:o}),(0,ce.jsxs)(xe,{children:[(0,ce.jsx)(ge,{children:o}),(0,ce.jsxs)(ve,{children:["Price: $",a]}),(0,ce.jsxs)(ye,{children:["Quantity:",(0,ce.jsx)("input",{type:"number",value:s,onChange:function(e){return t(n,parseInt(e.target.value))},min:"1"})]}),(0,ce.jsxs)(be,{children:["Total: $",(s*a).toFixed(2)]})]}),(0,ce.jsx)(we,{onClick:function(){return r(n)},children:(0,ce.jsx)(le.yvY,{})})]})},n)}))}),(0,ce.jsxs)(Ze,{children:["Total Price: $",i.toFixed(2)]})]})},_e=function(e){var n=e.items,t=e.handleDeleteItem,r=(0,v.useState)({name:"",email:"",phone:"",address:""}),i=(0,m.Z)(r,2),o=i[0],a=i[1],s=(0,v.useState)(""),c=(0,m.Z)(s,2),d=c[0],p=c[1];(0,v.useEffect)((function(){n.length>0&&p(n[0].shopId)}),[n]);var l=(0,v.useState)(n),x=(0,m.Z)(l,2),w=x[0],Z=x[1],j=(0,v.useState)(0),k=(0,m.Z)(j,2),S=k[0],L=k[1];(0,v.useEffect)((function(){Z(n)}),[n]),(0,v.useEffect)((function(){var e=0;w.forEach((function(n){e+=n.price*n.quantity})),L(e)}),[w]);var O=function(){var e=(0,u.Z)(g().mark((function e(n){var t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),t={user:{name:o.name,email:o.email,phone:o.phone,address:o.address},shopId:d,items:w.map((function(e){return{name:e.title,quantity:e.quantity,price:e.price}})),totalPrice:S,date:(new Date).toISOString()},e.prev=2,e.next=5,(0,b.f)(t);case 5:e.sent&&y.Am.success("Thank you for your order. Wait for the delivery"),a({name:"",email:"",phone:"",address:""}),Z([]),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.error(e.t0.message),y.Am.error("Something wrong. Please try again later");case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(n){return e.apply(this,arguments)}}();return(0,ce.jsx)(_,{children:w.length>0?(0,ce.jsxs)(ce.Fragment,{children:[(0,ce.jsx)(pe,{handleInputChange:function(e){var n=e.target,t=n.name,r=n.value;a((function(e){return(0,f.Z)((0,f.Z)({},e),{},(0,h.Z)({},t,r))}))},handleSubmit:O,formData:o}),(0,ce.jsx)(je,{cartItems:w,handleQuantityChange:function(e,n){var t=w.map((function(t){if(t._id===e){var r=t.price*n;return(0,f.Z)((0,f.Z)({},t),{},{quantity:n,total:r})}return t}));Z(t)},handleDeleteItem:t,totalPrice:S})]}):(0,ce.jsxs)(P,{children:[(0,ce.jsx)(C,{children:"Add more items to the cart"}),(0,ce.jsx)(R,{to:"/",children:"Back to Shop"})]})})}},3015:function(e,n,t){"use strict";t.d(n,{f:function(){return p},t:function(){return c}});var r=t(5861),i=t(7757),o=t.n(i),a=t(1243),s=window.location.origin.includes("local")?"http://localhost:3030/api/shops/":"https://delivery-shop-rfy2.onrender.com/api/shops/";function c(){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.get("/");case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(o().mark((function e(n){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.post("/orders",n);case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a.Z.defaults.baseURL=s},888:function(e,n,t){"use strict";var r=t(9047);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,n,t,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function n(){return e}e.isRequired=e;var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:o,resetWarningCache:i};return t.PropTypes=t,t}},2007:function(e,n,t){e.exports=t(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},6322:function(e,n,t){"use strict";e.exports=t.p+"static/media/NoImagePlaceholder.ebbc7b17947644e301a0.png"}}]);
//# sourceMappingURL=89.86c87b16.chunk.js.map