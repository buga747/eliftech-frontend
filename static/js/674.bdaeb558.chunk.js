"use strict";(self.webpackChunkelifschool_test_frontend=self.webpackChunkelifschool_test_frontend||[]).push([[674],{1674:function(n,e,r){r.r(e),r.d(e,{default:function(){return an}});var t,o,i,s,a,c,d,p,l,u,f,x,h,g,Z,b,m,v,j,w,P,y,k=r(3433),C=r(5861),S=r(9439),_=r(7757),I=r.n(_),z=r(2791),T=r(168),U=r(6444),A=U.ZP.div(t||(t=(0,T.Z)(["\n  max-height: 100vh;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  gap: 20px;\n"]))),E=(U.ZP.div(o||(o=(0,T.Z)(["\n  flex-basis: 30%;\n"]))),U.ZP.div(i||(i=(0,T.Z)(["\n  flex-basis: 70%;\n"]))),U.ZP.div(s||(s=(0,T.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 200px;\n"]))),U.ZP.div(a||(a=(0,T.Z)(["\n  border: 4px solid #f3f3f3;\n  border-top: 4px solid #3498db;\n  border-radius: 50%;\n  width: 30px;\n  height: 30px;\n  animation: spin 1s linear infinite;\n\n  @keyframes spin {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"]))),r(3015)),L=U.ZP.div(c||(c=(0,T.Z)(["\n  flex-basis: 30%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 8px;\n  border-right: 1px solid black;\n"]))),R=U.ZP.ul(d||(d=(0,T.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n"]))),q=U.ZP.h2(p||(p=(0,T.Z)(["\n  margin-bottom: 12px;\n"]))),F=U.ZP.li(l||(l=(0,T.Z)(["\n  display: flex;\n  align-items: center;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  margin-bottom: 10px;\n"]))),J=U.ZP.button(u||(u=(0,T.Z)(["\n  background-color: ",";\n  border: none;\n  width: 100%;\n  color: #090101;\n  font-size: 1.5rem;\n  padding: 1rem 2rem;\n  border-radius: 5px;\n  text-decoration: none;\n  transition: all 0.3s ease;\n  z-index: 5;\n  &:hover {\n    background-color: #4c4ec7;\n  }\n"])),(function(n){return n.isActive?"#4c4ec7":"#5691f1"})),N=U.ZP.span(f||(f=(0,T.Z)(["\n  font-size: 16px;\n  font-weight: bold;\n"]))),$=r(184),B=function(n){var e=n.shop,r=n.onShopClick,t=n.currentShopId;return(0,$.jsx)(F,{children:(0,$.jsx)(J,{isActive:t===e._id,type:"button",onClick:function(){return r(e)},children:(0,$.jsx)(N,{children:e.name})})})},D=function(n){var e=n.shops,r=n.onShopClick,t=n.currentShopId;return(0,$.jsxs)(L,{children:[(0,$.jsx)(q,{children:"Shops"}),(0,$.jsx)(R,{children:e.map((function(n){return(0,$.jsx)(B,{currentShopId:t,shop:n,onShopClick:r},n._id)}))})]})},G=U.ZP.div(x||(x=(0,T.Z)(["\n  flex-basis: 70%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 8px;\n  height: 100vh;\n  overflow-y: scroll;\n"]))),H=U.ZP.ul(h||(h=(0,T.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n  gap: 20px;\n  max-height: 100vh;\n"]))),K=U.ZP.h2(g||(g=(0,T.Z)(["\n  margin-bottom: 12px;\n"]))),M=r(6053),O=r(6322),Q=U.ZP.li(Z||(Z=(0,T.Z)(["\n  position: relative;\n  display: flex;\n  width: 330px;\n  height: 350px;\n  flex-direction: column;\n  align-items: center;\n  border-radius: 20px;\n  background-color: #fff;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  margin-bottom: 20px;\n  overflow: hidden;\n  transition: all 0.3s ease;\n  padding-bottom: 8px;\n\n  :hover {\n    transform: scale(1.03);\n  }\n"]))),V=U.ZP.img(b||(b=(0,T.Z)(["\n  width: 100%;\n  height: 200px;\n  object-fit: cover;\n  margin-bottom: 10px;\n"]))),W=U.ZP.div(m||(m=(0,T.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n  padding: 10px;\n"]))),X=U.ZP.h3(v||(v=(0,T.Z)(["\n  font-size: 16px;\n  font-weight: bold;\n  margin-bottom: 5px;\n"]))),Y=U.ZP.p(j||(j=(0,T.Z)(["\n  font-size: 14px;\n  margin-bottom: 5px;\n"]))),nn=U.ZP.p(w||(w=(0,T.Z)(["\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  font-size: 16px;\n  font-weight: bold;\n  color: #9a2222;\n  padding: 4px;\n  border-radius: 4px;\n  background-color: beige;\n"]))),en=U.ZP.p(P||(P=(0,T.Z)(["\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  font-size: 14px;\n  color: #150505;\n  background-color: #ebcfcf;\n  padding: 4px;\n  border-radius: 4px;\n"]))),rn=U.ZP.button(y||(y=(0,T.Z)(["\n  background-color: #1da1f2;\n  color: #fff;\n  font-size: 14px;\n  padding: 8px;\n  border-radius: 5px;\n  border: none;\n  text-decoration: none;\n  transition: all 0.3s ease;\n  &:hover {\n    background-color: #0c8de4;\n  }\n"]))),tn=function(n){var e=n.product,r=e._id,t=e.title,o=e.imgUrl,i=e.description,s=e.category,a=e.price,c=n.shopId,d=n.addToCart,p={_id:r,title:t,price:a,shopId:c,imgUrl:o,quantity:1};return(0,$.jsxs)(Q,{children:[o?(0,$.jsx)(V,{src:o,alt:t,width:"330"}):(0,$.jsx)(V,{src:O,alt:t,width:"330"}),(0,$.jsxs)(W,{children:[" ",(0,$.jsx)(X,{children:t}),(0,$.jsx)(Y,{children:i}),(0,$.jsxs)(nn,{children:["$",a]}),(0,$.jsx)(en,{children:s})]}),(0,$.jsxs)(rn,{onClick:function(){d(p)},children:["Add to cart ",(0,$.jsx)(M.ZfJ,{})," "]})]})},on=function(n){var e=n.shopProducts,r=n.addToCart,t=n.currentShopId;return(0,$.jsxs)(G,{children:[(0,$.jsx)(K,{children:"Products"}),(0,$.jsx)(H,{children:e.map((function(n){return(0,$.jsx)(tn,{product:n,addToCart:r,shopId:t},n._id)}))})]})},sn=r(5243),an=function(n){var e=n.addToCart,r=(0,z.useState)([]),t=(0,S.Z)(r,2),o=t[0],i=t[1],s=(0,z.useState)([]),a=(0,S.Z)(s,2),c=a[0],d=a[1],p=(0,z.useState)(""),l=(0,S.Z)(p,2),u=l[0],f=l[1],x=(0,z.useState)(!1),h=(0,S.Z)(x,2),g=h[0],Z=h[1],b=(0,z.useState)(!1),m=(0,S.Z)(b,2),v=m[0],j=m[1];(0,z.useEffect)((function(){var n=function(){var n=(0,C.Z)(I().mark((function n(){var e;return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,Z(!0),n.next=4,(0,E.t)();case 4:e=n.sent,i((0,k.Z)(e)),f(e[0]._id),d((0,k.Z)(e[0].products)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),j(!0);case 13:return n.prev=13,Z(!1),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[0,10,13,16]])})));return function(){return n.apply(this,arguments)}}();n()}),[]),(0,z.useEffect)((function(){var n=o.find((function(n){return n._id===u}));n&&d((0,k.Z)(n.products))}),[u,o]);return(0,$.jsxs)(A,{children:[v&&"Error, please reload the page",g?(0,$.jsx)(sn.Z1,{height:"100",width:"100",color:"#4fa94d",wrapperStyle:{},wrapperClass:"",visible:!0,ariaLabel:"three-circles-rotating",outerCircleColor:"",innerCircleColor:"",middleCircleColor:""}):(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(D,{onShopClick:function(n){f(n._id)},shops:o,currentShopId:u}),(0,$.jsx)(on,{shopProducts:c,currentShopId:u,addToCart:e})]})]})}},3015:function(n,e,r){r.d(e,{f:function(){return p},t:function(){return c}});var t=r(5861),o=r(7757),i=r.n(o),s=r(1243),a=window.location.origin.includes("local")?"http://localhost:3030/api/shops/":"https://delivery-shop-rfy2.onrender.com/api/shops/";function c(){return d.apply(this,arguments)}function d(){return(d=(0,t.Z)(i().mark((function n(){var e;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.Z.get("/");case 2:return e=n.sent,n.abrupt("return",e.data);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function p(n){return l.apply(this,arguments)}function l(){return(l=(0,t.Z)(i().mark((function n(e){var r,t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.Z.post("/orders",e);case 2:return r=n.sent,t=r.data,n.abrupt("return",t);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}s.Z.defaults.baseURL=a,s.Z.defaults.baseURL=a},6322:function(n,e,r){n.exports=r.p+"static/media/NoImagePlaceholder.ebbc7b17947644e301a0.png"}}]);
//# sourceMappingURL=674.bdaeb558.chunk.js.map