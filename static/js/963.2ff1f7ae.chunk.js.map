{"version":3,"file":"static/js/963.2ff1f7ae.chunk.js","mappings":"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","sources":["pages/OrderPage/OrderPage.styled.jsx","components/UserForm/UserForm.styled.jsx","components/UserForm/UserForm.jsx","components/OrderedList/OrderedList.styled.jsx","components/OrderedList/OrderedList.jsx","pages/OrderPage/OrderPage.jsx","services/shopsApi.js"],"sourcesContent":["import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const Container = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\n\nexport const FormContainer = styled.div`\n  width: 50%;\n`;\n\nexport const ItemContainer = styled.div`\n  width: 50%;\n`;\n\nexport const Form = styled.form`\n  display: flex;\n  flex-direction: column;\n`;\n\nexport const InputContainer = styled.div`\n  margin-bottom: 1rem;\n`;\n\nexport const ButtonContainer = styled.div`\n  margin-top: 1rem;\n`;\n\nexport const DiscoverLink = styled(Link)`\n  background-color: #1da1f2;\n  color: #fff;\n  font-size: 1.5rem;\n  padding: 1rem 2rem;\n  border-radius: 5px;\n  text-decoration: none;\n  transition: all 0.3s ease;\n  z-index: 5;\n  &:hover {\n    background-color: #0c8de4;\n  }\n`;\n\nexport const Title = styled.h3`\n  font-size: 3rem;\n  margin-bottom: 1rem;\n  color: #2b0505;\n`;\n\nexport const EmptyCartWrapper = styled.div`\n  margin-left: auto;\n  margin-right: auto;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n","import styled from 'styled-components';\n\nexport const FormContainer = styled.div`\n  display: inline-flex;\n  justify-content: center;\n  flex-basis: 50%;\n`;\n\nexport const Form = styled.form`\n  width: 400px;\n  padding: 20px;\n  background-color: #f0f0f0;\n  border-radius: 4px;\n`;\n\nexport const InputContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n\n  label {\n    margin-bottom: 5px;\n    font-weight: bold;\n  }\n\n  input {\n    padding: 8px;\n    border-radius: 4px;\n    border: 1px solid #ccc;\n    font-size: 14px;\n  }\n`;\n\nexport const ButtonContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-top: 10px;\n`;\n","import React from 'react';\nimport styled from 'styled-components';\nimport {\n  ButtonContainer,\n  Form,\n  FormContainer,\n  InputContainer,\n} from './UserForm.styled';\n\nconst SubmitButton = styled.button`\n  padding: 10px 20px;\n  background-color: #4285f4;\n  color: #fff;\n  border-radius: 4px;\n  border: none;\n  font-size: 16px;\n  cursor: pointer;\n\n  &:hover {\n    background-color: #0d47a1;\n  }\n`;\n\nconst UserForm = ({ handleInputChange, handleSubmit, formData }) => {\n  return (\n    <FormContainer>\n      <Form onSubmit={handleSubmit}>\n        <InputContainer>\n          <label>Name:</label>\n          <input\n            type=\"text\"\n            name=\"name\"\n            value={formData.name}\n            onChange={handleInputChange}\n            required\n          />\n        </InputContainer>\n        <InputContainer>\n          <label>Email:</label>\n          <input\n            type=\"email\"\n            name=\"email\"\n            value={formData.email}\n            onChange={handleInputChange}\n            required\n          />\n        </InputContainer>\n        <InputContainer>\n          <label>Phone:</label>\n          <input\n            type=\"tel\"\n            name=\"phone\"\n            value={formData.phone}\n            onChange={handleInputChange}\n            required\n          />\n        </InputContainer>\n        <InputContainer>\n          <label>Address:</label>\n          <input\n            type=\"text\"\n            name=\"address\"\n            value={formData.address}\n            onChange={handleInputChange}\n            required\n          />\n        </InputContainer>\n        <ButtonContainer>\n          <SubmitButton type=\"submit\">Submit</SubmitButton>\n        </ButtonContainer>\n      </Form>\n    </FormContainer>\n  );\n};\n\nexport default UserForm;\n","import styled from 'styled-components';\n\nexport const ItemContainer = styled.div`\n  flex-basis: 50%;\n  max-height: 80vh;\n  overflow-y: scroll;\n\n  ul {\n    width: 100%;\n    list-style-type: none;\n    padding: 0;\n  }\n\n  li {\n    display: flex;\n    align-items: center;\n    padding: 10px;\n    border-bottom: 1px solid #e6e6e6;\n  }\n\n  li:last-child {\n    border-bottom: none;\n  }\n`;\n\nexport const ItemWrapper = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nexport const ItemImage = styled.img`\n  flex-shrink: 0;\n  width: 150px;\n  height: auto;\n  object-fit: cover;\n`;\n\nexport const ItemDetails = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-left: 10px;\n`;\n\nexport const ItemTitle = styled.div`\n  font-size: 18px;\n  font-weight: bold;\n`;\n\nexport const ItemPrice = styled.div`\n  margin-top: 5px;\n  font-size: 14px;\n  color: #373434;\n`;\n\nexport const ItemQuantity = styled.div`\n  margin-top: 5px;\n  font-size: 14px;\n\n  input[type='number'] {\n    width: 50px;\n    padding: 5px;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n  }\n`;\n\nexport const ItemTotalPrice = styled.div`\n  margin-top: 5px;\n  font-size: 14px;\n  font-weight: bold;\n  color: #063c56;\n`;\n\nexport const DeleteButton = styled.button`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: transparent;\n  border: none;\n  cursor: pointer;\n  margin-left: 10px;\n  color: #ff0000;\n  transition: color 0.2s;\n\n  &:hover {\n    color: #ff5555;\n  }\n`;\n\nexport const TotalPrice = styled.div`\n  font-size: 20px;\n  font-weight: bold;\n  margin-top: 10px;\n  color: #00aaff;\n`;\n","import React from 'react';\nimport { BsTrash } from 'react-icons/bs';\nimport NoImagePlaceholder from '../../images/NoImagePlaceholder.png';\nimport {\n  DeleteButton,\n  ItemContainer,\n  ItemDetails,\n  ItemImage,\n  ItemPrice,\n  ItemQuantity,\n  ItemTitle,\n  ItemTotalPrice,\n  ItemWrapper,\n  TotalPrice,\n} from './OrderedList.styled';\n\nconst OrderedList = ({\n  cartItems,\n  handleQuantityChange,\n  handleDeleteItem,\n  totalPrice,\n}) => {\n  return (\n    <ItemContainer>\n      <ul>\n        {cartItems.map(({ _id, imgUrl, title, price, quantity }) => (\n          <li key={_id}>\n            <ItemWrapper>\n              {imgUrl ? (\n                <ItemImage src={imgUrl} alt={title} />\n              ) : (\n                <ItemImage src={NoImagePlaceholder} alt={title} />\n              )}\n              <ItemDetails>\n                <ItemTitle>{title}</ItemTitle>\n                <ItemPrice>Price: ${price}</ItemPrice>\n                <ItemQuantity>\n                  Quantity:\n                  <input\n                    type=\"number\"\n                    value={quantity}\n                    onChange={e =>\n                      handleQuantityChange(_id, parseInt(e.target.value))\n                    }\n                    min=\"1\"\n                  />\n                </ItemQuantity>\n                <ItemTotalPrice>\n                  Total: ${(quantity * price).toFixed(2)}\n                </ItemTotalPrice>\n              </ItemDetails>\n              <DeleteButton onClick={() => handleDeleteItem(_id)}>\n                <BsTrash />\n              </DeleteButton>\n            </ItemWrapper>\n          </li>\n        ))}\n      </ul>\n      <TotalPrice>Total Price: ${totalPrice.toFixed(2)}</TotalPrice>\n    </ItemContainer>\n  );\n};\n\nexport default OrderedList;\n","import React, { useState, useEffect } from 'react';\nimport { toast } from 'react-toastify';\nimport { addOrder } from 'services/shopsApi';\nimport {\n  Container,\n  DiscoverLink,\n  EmptyCartWrapper,\n  Title,\n} from './OrderPage.styled';\nimport UserForm from '../../components/UserForm/UserForm';\nimport OrderedList from '../../components/OrderedList/OrderedList';\n\nconst CartPage = ({ items }) => {\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    phone: '',\n    address: '',\n  });\n  const [shopId, setShopId] = useState('');\n\n  useEffect(() => {\n    if (items.length > 0) {\n      setShopId(items[0].shopId);\n    }\n  }, [items]);\n\n  const [cartItems, setCartItems] = useState(items);\n  const [totalPrice, setTotalPrice] = useState(0);\n\n  useEffect(() => {\n    let total = 0;\n    cartItems.forEach(item => {\n      total += item.price * item.quantity;\n    });\n    setTotalPrice(total);\n  }, [cartItems]);\n\n  const handleQuantityChange = (itemId, quantity) => {\n    const updatedItems = cartItems.map(item => {\n      if (item._id === itemId) {\n        const total = item.price * quantity;\n        return {\n          ...item,\n          quantity,\n          total,\n        };\n      }\n      return item;\n    });\n    setCartItems(updatedItems);\n  };\n\n  const handleDeleteItem = itemId => {\n    const updatedItems = cartItems.filter(item => item._id !== itemId);\n    setCartItems(updatedItems);\n  };\n\n  const handleInputChange = e => {\n    const { name, value } = e.target;\n    setFormData(prevData => ({\n      ...prevData,\n      [name]: value,\n    }));\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    const data = {\n      user: {\n        name: formData.name,\n        email: formData.email,\n        phone: formData.phone,\n        address: formData.address,\n      },\n      shopId: shopId,\n      items: cartItems.map(item => ({\n        name: item.title,\n        quantity: item.quantity,\n        price: item.price,\n      })),\n      totalPrice: totalPrice,\n      date: new Date().toISOString(),\n    };\n\n    try {\n      const response = await addOrder(data);\n      if (response) {\n        toast.success('Thank you for your order. Wait for the delivery');\n      }\n\n      setFormData({\n        name: '',\n        email: '',\n        phone: '',\n        address: '',\n      });\n      setCartItems([]);\n    } catch (error) {\n      console.error(error.message);\n      toast.error('Something wrong. Please try again later');\n    }\n  };\n\n  return (\n    <Container>\n      {cartItems.length > 0 ? (\n        <>\n          <UserForm\n            handleInputChange={handleInputChange}\n            handleSubmit={handleSubmit}\n            formData={formData}\n          />\n          <OrderedList\n            cartItems={cartItems}\n            handleQuantityChange={handleQuantityChange}\n            handleDeleteItem={handleDeleteItem}\n            totalPrice={totalPrice}\n          />\n        </>\n      ) : (\n        <EmptyCartWrapper>\n          <Title>Add more items to the cart</Title>\n\n          <DiscoverLink to=\"/\">Back to Shop</DiscoverLink>\n        </EmptyCartWrapper>\n      )}\n    </Container>\n  );\n};\n\nexport default CartPage;\n","import axios from 'axios';\n\nconst BASE_URL = window.location.origin.includes('local')\n  ? 'http://localhost:3030/api/shops/'\n  : 'https://delivery-shop-rfy2.onrender.com/api/shops/';\n\naxios.defaults.baseURL = BASE_URL;\n\naxios.defaults.baseURL = BASE_URL;\n\nexport async function fetchAllShops() {\n  const response = await axios.get(`/`);\n  return response.data;\n}\n\nexport async function addOrder(order) {\n  const { data } = await axios.post('/orders', order);\n  return data;\n}\n"],"names":["Container","styled","DiscoverLink","Link","Title","EmptyCartWrapper","FormContainer","Form","InputContainer","ButtonContainer","SubmitButton","handleInputChange","handleSubmit","formData","onSubmit","type","name","value","onChange","required","email","phone","address","ItemContainer","ItemWrapper","ItemImage","ItemDetails","ItemTitle","ItemPrice","ItemQuantity","ItemTotalPrice","DeleteButton","TotalPrice","cartItems","handleQuantityChange","handleDeleteItem","totalPrice","map","_id","imgUrl","title","price","quantity","src","alt","NoImagePlaceholder","e","parseInt","target","min","toFixed","onClick","items","useState","setFormData","shopId","setShopId","useEffect","length","setCartItems","setTotalPrice","total","forEach","item","preventDefault","data","user","date","Date","toISOString","addOrder","toast","console","error","message","prevData","itemId","updatedItems","filter","to","BASE_URL","window","location","origin","includes","fetchAllShops","axios","response","order"],"sourceRoot":""}